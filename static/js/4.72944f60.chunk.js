(this["webpackJsonpHunger-Buddy"]=this["webpackJsonpHunger-Buddy"]||[]).push([[4],{38:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},39:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return a}))},42:function(t,e,n){"use strict";n.r(e);var r=n(22),a=n(1),s=n(0),u=n(12),c=n(38),i=n(39),o=new(function(){function t(){Object(c.a)(this,t)}return Object(i.a)(t,[{key:"getAllRestaurants",value:function(t,e){return fetch("https://developers.zomato.com/api/v2.1/search?entity_id="+t+"&entity_type=city&start="+20*e+"&count=20&category=6",{method:"GET",headers:{"user-key":"4b22cef4949b6dd368a5b9a32cb83fbd"}}).then((function(t){return t.json()}))}}]),t}());function f(t,e){return function(n){return o.getAllRestaurants(t,e).then((function(t){t.error?n({type:"GET_RESTAURANTS_FAILURE",msg:"Get Restaurants Failure"}):n(function(t){return{type:"GET_RESTAURANTS_SUCCESS",response:t}}(t))}))}}new(function(){function t(){Object(c.a)(this,t)}return Object(i.a)(t,[{key:"getRestaurantDetails",value:function(t){return fetch("https://developers.zomato.com/api/v2.1/restaurant?res_id="+t,{method:"GET",headers:{"user-key":"4b22cef4949b6dd368a5b9a32cb83fbd"}}).then((function(t){return t.json()}))}}]),t}());var l=n(20),b=n(3);e.default=function(){var t=Object(u.c)(),e=Object(b.f)(),n=Object(s.useState)(0),c=Object(r.a)(n,2),i=c[0],o=c[1],d=Object(u.d)((function(t){return t.restaurantsReducer.restaurants})),h=Object(u.d)((function(t){return t.getCitiesReducer.cities.location_suggestions[0].entity_id}));function j(n){t(j(n)).then((function(){e.push("/RestaurantDetails")}))}Object(s.useEffect)((function(){t(f(h,i))}),[]);var g={height:"250px"},p=Object(s.useRef)(null);Object(s.useEffect)((function(){var t=new IntersectionObserver(O,{root:null,rootMargin:"20px",threshold:1});p.current&&t.observe(p.current)}),[]),Object(s.useEffect)((function(){t(f(h,i))}),[i]);var O=function(t){t[0].isIntersecting&&o((function(t){return t+1}))};return Object(a.jsxs)("div",{className:"retaurantsPage",children:[Object(a.jsx)(l.a,{}),Object(a.jsx)("div",{className:"restaurantList",style:{maxWidth:"1280px",margin:"0 auto"},children:d&&d.map((function(t,e){return Object(a.jsxs)("div",{className:"restaurant",style:g,onClick:function(e){return j(t.restaurant.R.res_id)},children:[Object(a.jsx)("img",{src:t.restaurant.thumb,alt:t.restaurant.name,className:"restaurantThumbNail"}),Object(a.jsxs)("h4",{className:"restaurantName",children:[" ",t.restaurant.name," "]}),Object(a.jsxs)("span",{children:["\u2606",t.restaurant.user_rating.aggregate_rating]})]},"restaurant"+e)}))}),Object(a.jsx)("div",{className:"loading",ref:p,children:Object(a.jsx)("h2",{children:"Loading..."})})]})}}}]);
//# sourceMappingURL=4.72944f60.chunk.js.map